<!DOCTYPE html>
{% load static %}
<html>
    <head>
        <title>Circles</title>
        <link rel="stylesheet" type="text/css" href="{% static 'main/main.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'main/ui.css' %}">
        <link rel="icon" type="image/x-icon" href="{% static 'main/images/favicon.ico' %}">
        <meta name="darkreader-lock">
        <script src="https://unpkg.com/@phosphor-icons/web"></script>
        
    </head>

    <body>
        <div id="main-canvas"></div>

        <div id="main-user-box">
            <!-- <img src="{% static 'main/images/circles.png' %}"> -->
            <div id="main-user-box-profile">
                <div id="main-user-box-profile-circle">
                    <p id="main-user-box-profile-circle-text">{{ username|slice:1|title }}</p>
                </div>

                <div id="main-user-box-profile-text">
                    <p id="main-user-box-profile-text-username">{{ username }}</p>
                    <p id="main-user-box-profile-text-ip">{{ server_name }}</p>
                </div>
            </div>
            
        </div>

        <div id="main-copied-box">
            <p id="main-copied-box-text"><i class="ph-bold ph-check-circle"></i> Copied!</p>
        </div>

        <div id="main-location-box">
            <p id="main-location-box-users">Loading...</p>
            <div id="main-location-box-location">
                <p class="location-slash">Loading...</p>
            </div>
        </div>

        <div id="main-messages-box">
            <div id="main-messages-box-messages"></div>

            <div id="main-messages-box-conversations"></div>

            <div id="main-messages-box-input">
                <input id="main-messages-box-input-textarea" class="textarea" type="text" placeholder=""></input>
                <button id="main-messages-box-input-send" class="buttonsmaller"><p id="main-messages-box-input-send-text">Send <i class="ph-bold ph-paper-plane-tilt"></i></p></button>
                <button id="main-messages-box-input-conversations" class="buttonsmaller"><p id="main-messages-box-input-conversations-text"><i class="ph-bold ph-list"></i></p></button>
            </div>
        </div>

        <div id="create-conversation-box">
            <div id="create-conversation-box-text">
                    <p class="dialog-header">Create Conversation</p>
                <p class="buttonx" id="create-conversation-box-close">X</p>
            </div>

            
            <input class="textarea" placeholder="Name" type="text" id="conversation-box-name-input"></input>
            <p class="textedit-subtext">Pick a name for your new Conversation.</p>
            

            
            <input class="textarea" placeholder="Search for a user" type="text" id="conversation-box-user-search"></input>
            <p class="textedit-subtext">Search for users to add to your Conversation</p>

            <div id="conversation-box-userstoadd"></div>

            <button class="buttonsmaller" id="conversation-box-button">Create Conversation</button>
            
        </div>

        <div id="create-circle-box">
            <div id="create-conversation-box-text"> <!-- Reuse because this whole system will be redone soon -->
                <p class="dialog-header">Create Circle</p>
                <p class="buttonx" id="create-circle-box-close">X</p>
            </div>

            <input class="textarea" placeholder="Name" type="text" id="circle-box-name-input"></input>
            <p class="textedit-subtext">Pick a name for your new Circle.</p>

            <button class="buttonsmaller" id="circle-box-button">Create CIrcle</button>
        </div>

        <div id="main-status-box">
            <i id="main-status-box-status"><i class="ph-bold ph-check-circle"></i></i>
            <p id="main-status-box-time"></p>
            <i id="main-status-box-notifications"><i class="ph-bold ph-bell"></i></i>
        </div>

        <div id="main-notifications-box">
            <div id="main-notifications-box-notifications">
                <p class="text-small">No Notifications</p>
            </div>

            <div id="main-notifications-box-controls">
                <button class="buttontiny" id="main-notifications-box-clear"><i class="ph-bold ph-trash"></i> Clear All</button>
                <button class="buttontiny" id="main-notifications-box-mute"><i class="ph-bold ph-bell-slash"></i> Mute Notifications</button>
            </div>
        </div>

        <div id="main-notification" class="notification">
            <p class="notification-title"></p>
            <p class="notification-text"></p>
        </div>

        <div id="main-addmenubutton">
            <p id="main-addmenubutton-text"><i class="ph-bold ph-plus-circle"></i> Add</p>
        </div>

        <div id="main-addmenu">
            <p id="main-addmenu-text"><i class="ph-bold ph-plus-circle"></i> Add</p>
            <p class="main-addmenu-item" id="add-circle"><i class="ph-bold ph-circle"></i> Circle</p>
            <p class="main-addmenu-item" id="add-conversation"><i class="ph-bold ph-chat-teardrop-text"></i> Conversation</p>
        </div>

        <div id="main-backgroundblur"></div>

        <script>
            var server_ip = "{{ server_ip }}";
            var production = "{{ production }}";
        </script>

        <script src="https://unpkg.com/three@0.157.0/build/three.js"></script>

        <script src="{% static 'main/scripts/TextGeometry.js' %}"></script>
        <script src="{% static 'main/scripts/FontLoader.js' %}"></script>
        
        <script src="{% static 'main/scripts/tween.umd.js' %}"></script>
        <script src="{% static 'main/scripts/dat.gui.min.js' %}"></script>
        <script src="{% static 'main/scripts/copied.js' %}"></script>
        <script src="{% static 'main/scripts/messages_box.js' %}"></script>
        <script src="{% static 'main/scripts/conversation.js' %}"></script>
        <script src="{% static 'main/scripts/notification.js' %}"></script>
        <script src="{% static 'main/scripts/status.js' %}"></script>
        <script src="{% static 'main/scripts/location.js' %}"></script>
        <script src="{% static 'main/scripts/add.js' %}"></script>
        <script src="{% static 'main/scripts/main.js' %}"></script> <!-- Should be last to ensure all other scripts are loaded first, in case this script tries to access a function that's not loaded yet -->
        <script src="{% static 'main/scripts/messages.js' %}"></script>
        
        
        
    </body>
</html>